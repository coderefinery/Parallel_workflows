Search.setIndex({"docnames": ["code/jupyter/knn_iris", "conclusions", "exercises", "index", "instructor-guide", "motivation", "parallelization/array_jobs", "parallelization/code_adaptions", "parallelization/concepts", "parallelization/conclusions", "parallelization/index", "parallelization/motivation", "parallelization/parallelize_using_snakemake", "parallelization/submission_by_script", "pitfalls/common_issues", "pitfalls/index", "quick-reference"], "filenames": ["code/jupyter/knn_iris.ipynb", "conclusions.md", "exercises.rst", "index.rst", "instructor-guide.rst", "motivation.md", "parallelization/array_jobs.md", "parallelization/code_adaptions.md", "parallelization/concepts.md", "parallelization/conclusions.md", "parallelization/index.rst", "parallelization/motivation.md", "parallelization/parallelize_using_snakemake.md", "parallelization/submission_by_script.md", "pitfalls/common_issues.md", "pitfalls/index.rst", "quick-reference.rst"], "titles": ["Apply K nearest neighbors classification to the Iris flower data set", "Conclusions and recommendations", "List of exercises", "Tuesdays tools and techniques for HPC - Parallelization", "Instructor\u2019s guide", "Motivation", "Parallelize using Slurm Array jobs", "Example Walkthrough", "Concepts", "Conclusions and recommendations", "Embarassingly Parallel Problems", "Motivation", "Parallelize using Snakemake", "Parallelize via a script", "Common issues", "Pitfalls when parallelising code", "Quick Reference"], "terms": {"input": [0, 1, 2, 6, 7, 8, 9, 11, 12, 13], "http": [0, 2, 7], "www": 0, "kaggl": 0, "com": 0, "dataset": 0, "vikrishnan": 0, "licens": 0, "public": [0, 7], "domain": 0, "cc0": 0, "output": [0, 2, 6, 7, 12, 13, 14], "classifi": [0, 2, 7], "us": [0, 1, 3, 5, 7, 9, 10, 11, 13, 14, 15], "differ": [0, 2, 3, 6, 7, 12, 13, 14], "number": [0, 2, 5, 6, 7, 11, 12, 13], "n_neighbor": [0, 2, 7, 12], "fix": 0, "distanc": 0, "metric": 0, "The": [0, 2, 6, 7, 8, 11, 12, 13, 14], "result": [0, 1, 2, 7, 8, 9, 11, 12, 13, 14], "file": [0, 7, 12, 13, 14], "structur": [0, 5], "1___metric": 0, "euclidean": [0, 2, 7], "png": [0, 2, 7, 12], "2___metric": 0, "4___metric": 0, "8___metric": 0, "16___metric": 0, "32___metric": 0, "64___metric": 0, "depend": [0, 2, 3, 8, 11, 12, 13, 14], "from": [0, 1, 2, 5, 6, 7, 9, 11, 12, 13, 14, 15], "pathlib": [0, 2, 7], "path": [0, 2, 7, 14], "pickl": [0, 2, 7, 14], "matplotlib": [0, 2, 7], "pyplot": [0, 2, 7], "plt": [0, 2, 7], "panda": 0, "pd": 0, "sklearn": [0, 2, 7], "inspect": [0, 2, 7], "decisionboundarydisplai": [0, 2, 7], "model_select": 0, "train_test_split": 0, "kneighborsclassifi": [0, 2, 7], "labelencod": 0, "standardscal": [0, 2, 7], "modulenotfounderror": 0, "traceback": 0, "most": [0, 3, 5, 7, 10, 11, 14, 15], "recent": 0, "call": [0, 1, 7, 9, 11, 12, 13, 14], "last": [0, 5, 11], "cell": 0, "In": [0, 2, 3, 5, 6, 7, 8, 11, 14], "1": [0, 5, 8, 11, 12, 13, 14], "line": [0, 1, 7, 9, 11, 12, 13, 14], "4": [0, 2, 5, 6, 7, 8, 11, 12], "2": [0, 5, 7, 8, 11, 12, 13, 14], "5": [0, 2, 3, 7, 8, 10, 12, 13], "7": 0, "No": 0, "modul": [0, 2, 6, 7], "name": [0, 2, 6, 7, 12, 13, 14], "load": [0, 2, 6, 7, 14], "extract": [0, 7, 12, 13], "two": [0, 7, 8, 12, 13, 14], "featur": [0, 2, 7], "sepallengthcm": 0, "sepalwidthcm": 0, "out": [0, 2, 3, 6, 7, 11, 12, 13, 14], "avail": [0, 2, 5, 6, 7, 11, 12, 13, 14], "four": [0, 2, 6, 7], "petallengthcm": 0, "petalwidthcm": 0, "map": 0, "class": [0, 2, 7], "label": 0, "setosa": 0, "versicolor": 0, "virginica": 0, "integ": [0, 6, 7, 12, 13, 14], "0": [0, 2, 6, 7, 14], "divid": 0, "randomli": 0, "train": [0, 7, 12], "test": [0, 7], "save": [0, 2, 7, 14], "disk": [0, 2, 7, 12], "read_csv": 0, "csv": [0, 12], "displai": 0, "head": 0, "tail": 0, "x": [0, 2, 7], "label_encod": 0, "speci": 0, "y": [0, 2, 7], "transform": 0, "classes_": 0, "x_train": [0, 2, 7], "x_test": [0, 2, 7], "y_train": [0, 2, 7], "y_test": [0, 2, 7], "stratifi": 0, "dump": [0, 7, 14], "open": [0, 2, 3, 7, 10, 12, 13, 14, 15], "pkl": [0, 2, 7, 12, 14], "wb": [0, 7, 14], "loop": [0, 2, 7, 11, 12, 13, 14], "over": [0, 2, 5, 7, 11, 12, 13], "paramet": [0, 1, 6, 8, 9, 12, 13], "standard": [0, 2, 7], "scaler": [0, 2, 7], "knn": [0, 2, 7], "imag": [0, 2, 7, 12], "rb": [0, 2, 7, 14], "f": [0, 2, 7, 12, 13, 14], "scikit": [0, 2, 7], "learn": [0, 2, 3, 7, 10, 11, 12, 15], "org": [0, 2, 7], "stabl": [0, 2, 7], "gener": [0, 2, 6, 7, 8, 11, 12, 13], "pairwis": [0, 2, 7], "distance_metr": [0, 2, 7], "html": [0, 2, 7], "n_neighbors_list": [0, 12], "8": [0, 2, 7], "16": [0, 2, 7], "32": [0, 2, 7], "64": [0, 2, 5, 7, 11], "clf": [0, 2, 7], "step": [0, 2, 5, 6, 8, 11, 12], "disp": [0, 2, 7], "from_estim": [0, 2, 7], "response_method": [0, 2, 7], "predict": [0, 2, 7], "plot_method": [0, 2, 7], "pcolormesh": [0, 2, 7], "xlabel": [0, 2, 7], "ylabel": [0, 2, 7], "shade": [0, 2, 7], "auto": [0, 2, 7], "alpha": [0, 2, 7], "scatter": [0, 2, 7], "ax_": [0, 2, 7], "iloc": [0, 2, 7], "c": [0, 2, 7, 8, 12, 13], "edgecolor": [0, 2, 7], "legend": [0, 2, 7], "legend_el": [0, 2, 7], "loc": [0, 2, 7], "lower": [0, 2, 7], "left": [0, 2, 3, 7, 11], "titl": [0, 2, 7], "_": [0, 2, 7, 14], "set_titl": [0, 2, 7], "3": [0, 2, 5, 6, 7, 8, 11, 12, 13], "n": [0, 2, 7, 11], "r": [0, 2, 7, 12, 13, 14], "show": [0, 2, 3, 6, 7, 8, 11], "mkdir": [0, 2, 7, 14], "parent": [0, 2, 7], "true": [0, 2, 5, 7, 11, 12, 13, 14], "exist_ok": [0, 2, 7], "savefig": [0, 2, 7], "___metric": [0, 2, 7], "schedul": [1, 3, 7, 8, 9, 10, 12, 13, 15], "base": [1, 2, 3, 6, 7, 9, 10, 12, 13, 15], "parallelis": [1, 3, 9], "embarassingli": [1, 3, 7, 9, 14, 15], "parallel": [1, 9, 14, 15], "problem": [1, 3, 5, 9, 11, 12, 13, 14, 15], "adapt": [1, 2, 6, 7, 9], "your": [1, 2, 3, 6, 7, 9, 11, 12, 13, 14], "code": [1, 2, 3, 6, 9, 10, 11, 12, 13, 14], "allow": [1, 3, 7, 9, 10, 12, 15], "can": [1, 3, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "read": [1, 3, 9, 11, 14], "command": [1, 2, 6, 7, 9, 12, 13, 14], "potenti": [1, 9], "build": [1, 2, 6, 9, 12, 13], "collect": [1, 7, 9, 11, 14], "method": [1, 7, 9, 14], "re": [1, 5, 7, 8, 9, 11, 12, 13, 14], "combin": [1, 3, 7, 9, 12, 13, 14], "individu": [1, 7, 8, 9], "execut": [1, 5, 8, 9], "system": [1, 7, 9, 11, 12, 13], "languag": [1, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14], "submit": [1, 7, 9, 11, 12, 13], "job": [1, 7, 9, 10, 12, 13, 14], "avoid": [1, 5, 7, 9, 11], "complex": [1, 9, 12, 13, 14], "bash": [1, 2, 6, 7, 9, 12, 13, 14], "you": [1, 2, 3, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "ar": [1, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "familiar": [1, 6, 9], "keep": [1, 7, 9, 14], "variabl": [1, 6, 7, 9], "separ": [1, 7, 9, 12, 13], "reusabl": [1, 9, 12], "unintent": [1, 9], "error": [1, 2, 6, 9, 12, 13, 14], "better": [1, 3, 9], "track": [1, 9], "run": [1, 5, 8, 9, 11, 12, 13, 14, 15], "thi": [2, 3, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15], "i": [2, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15], "all": [2, 3, 7, 10, 12, 13, 14, 15], "lesson": 2, "mainli": 2, "refer": [2, 12, 13], "helper": 2, "instructor": [2, 3], "automat": 2, "other": [2, 3, 7, 8, 11, 13, 14], "page": [2, 3, 10, 15], "ani": [2, 6, 7, 11], "singl": [2, 5, 11], "teach": 2, "event": 2, "probabl": [2, 3], "cover": [2, 3, 5, 11], "onli": [2, 6, 7, 11, 12, 14], "subset": 2, "interest": [2, 3], "code_adapt": 2, "md": 2, "let": [2, 3, 7, 12, 13, 14], "": [2, 3, 7, 11, 14], "assum": [2, 6, 7, 12, 13, 14], "we": [2, 3, 5, 6, 7, 10, 11, 12, 13, 14, 15], "notic": [2, 7], "still": [2, 3, 7, 10, 15], "took": [2, 7], "too": [2, 3, 7, 8], "long": [2, 3, 7], "our": [2, 6, 7, 12, 13, 14], "purpos": [2, 7, 12, 13], "also": [2, 7, 11, 12, 13, 14], "want": [2, 7, 12, 13], "part": [2, 7, 10, 12, 15], "need": [2, 3, 6, 7, 8, 11, 12, 13, 14], "updat": 2, "train_and_plot": [2, 7, 12, 14], "py": [2, 6, 7, 12, 13, 14], "sbatch": [2, 6, 7, 12, 13, 14], "remov": [2, 7], "follow": [2, 3, 7, 10, 11, 12, 13, 14, 15], "parser": [2, 7], "import": [2, 7, 12, 13, 14], "argpars": [2, 7], "neighbor": [2, 7, 12], "pipelin": [2, 7, 8], "preprocess": [2, 7, 12, 14], "fit": [2, 3, 7], "plot": [2, 7, 12], "decis": [2, 7], "boundari": [2, 7], "pars": [2, 6, 7, 12, 13], "argument": [2, 6, 7, 12, 13, 14], "argumentpars": [2, 7], "add_argu": [2, 7], "type": [2, 3, 5, 7, 8, 11, 12], "int": [2, 7, 14], "help": [2, 3, 7], "calcul": [2, 6, 7, 8, 11, 12, 13, 14], "str": [2, 7], "arg": [2, 7, 12, 13, 14], "parse_arg": [2, 7], "data": [2, 5, 7, 8, 11, 12, 14], "iri": [2, 7, 12], "k": [2, 7], "classif": [2, 7], "Then": [2, 7], "ad": [2, 7, 12, 13], "further": [2, 7], "bin": [2, 6, 7, 12, 13, 14], "long_job": [2, 6, 7, 12, 13, 14], "singular": [2, 7, 14], "box": [2, 6, 7, 12, 13, 14], "cluster": [2, 3, 5, 6, 8, 10, 11, 12, 13, 14, 15], "have": [2, 3, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15], "here": [2, 3, 6, 7, 8, 10, 11, 12, 13, 14, 15], "make": [2, 3, 6, 7, 10, 11, 12, 13, 14, 15], "exec": [2, 7, 14], "python_contain": [2, 7, 14], "python": [2, 6, 11, 12, 13, 14], "And": [2, 5, 7, 11, 14], "final": [2, 3, 6, 7, 10, 11, 12, 15], "valu": [2, 6, 7, 11, 12, 13], "subprocess": [2, 7, 12, 13], "manhattan": [2, 7], "l1": [2, 7], "haversin": [2, 7], "cosin": [2, 7], "sh": [2, 7, 12, 13], "array_job": 2, "For": [2, 6, 7, 12], "abov": [2, 6, 12, 14], "bit": [2, 3, 6, 10, 14, 15], "first": [2, 6, 7, 8, 11, 12], "countri": [2, 6], "second": [2, 6, 7, 8, 12], "start": [2, 6, 7, 8, 12], "sinc": [2, 6, 7, 12, 13, 14], "zero": [2, 6], "index": [2, 3, 6, 7, 12, 13, 14], "chang": [2, 6, 7], "don": [2, 3, 6, 10, 11, 12, 13, 14, 15], "t": [2, 3, 5, 6, 7, 10, 11, 12, 13, 14, 15], "provid": [2, 6, 7, 12, 13], "directli": [2, 6, 7], "long_cod": [2, 6], "should": [2, 6, 7, 8, 12, 13, 14], "abl": [2, 6, 7], "output_": [2, 6], "a_": [2, 6], "txt": [2, 6], "error_": [2, 6], "python3": [2, 6, 7, 12, 13, 14], "replac": [2, 6, 7, 12, 13, 14], "actual": [2, 3, 5, 6, 7, 11, 12, 13, 14], "slurm_array_task_id": [2, 6, 14], "under": [3, 10, 15], "construct": [3, 10, 15], "pleas": [3, 10, 15], "plan": [3, 10, 15], "hackmd": [3, 10, 15], "link": [3, 10, 15], "check": [3, 10, 12, 13, 15], "coderefineri": [3, 10, 15], "chat": [3, 10, 15], "current": [3, 6, 7, 10, 12, 13, 15], "date": [3, 10, 15], "given": [3, 10, 12, 13, 15], "yet": [3, 10, 12, 14, 15], "known": [3, 10, 15], "registr": [3, 10, 15], "though": [3, 10, 15], "improv": [3, 5, 11], "workflow": [3, 5, 7, 12, 14], "ve": 3, "had": [3, 14], "basic": [3, 10, 15], "work": [3, 7, 12, 13, 14], "what": [3, 4, 6, 7, 11, 14], "do": [3, 4, 6, 7, 8, 10, 11, 12, 13, 14, 15], "peopl": 3, "practic": 3, "exampl": [3, 6, 10, 11, 12, 13, 14], "tip": 3, "which": [3, 6, 7, 11, 12, 14], "mai": 3, "aren": 3, "usual": 3, "either": [3, 6, 7, 14], "advanc": 3, "won": [3, 10, 15], "go": [3, 6, 7], "so": [3, 7, 12, 13, 14], "deep": 3, "each": [3, 5, 7, 8, 11, 12, 13, 14], "topic": 3, "know": [3, 14], "everyth": 3, "possibl": [3, 7, 12, 13], "some": [3, 7, 8, 10, 11, 12, 13, 14, 15], "where": [3, 5, 6, 8, 11, 12, 13, 14], "up": [3, 4, 5, 7, 10, 11, 14, 15], "right": 3, "format": 3, "design": 3, "firesid": 3, "expert": 3, "demo": 3, "along": [3, 7], "independ": [3, 7, 14], "exercis": [3, 10, 15], "engag": [3, 10, 15], "level": [3, 8, 10, 15], "introduc": [3, 10, 12, 13], "concept": [3, 10], "how": [3, 5, 7, 10, 12, 13], "properti": [3, 10], "easili": [3, 8, 10], "distribut": [3, 10], "heavi": [3, 10], "comput": [3, 7, 8, 10, 11, 12, 14, 15], "multipl": [3, 5, 6, 7, 10, 11, 12, 13, 15], "process": [3, 5, 10, 11, 14], "without": [3, 10], "necess": [3, 10], "fall": [3, 10], "back": [3, 10], "mechan": [3, 5, 10, 11], "within": [3, 6, 10, 12, 13, 14], "usag": [3, 10, 15], "mani": [3, 5, 6, 7, 10, 11, 15], "thing": [3, 10, 12, 13, 14, 15], "talk": [3, 10, 15], "sens": [3, 10, 15], "might": [3, 6, 7, 10, 11, 14, 15], "pick": [3, 10, 15], "someth": [3, 6, 7, 10, 14, 15], "anywai": [3, 10, 15], "A": [3, 6, 7, 10, 12, 15], "experi": [3, 10, 15], "technic": [3, 10, 15], "option": [3, 7, 10, 12, 13, 15], "materi": [3, 10, 15], "deeper": [3, 10, 15], "access": [3, 10, 14, 15], "slurm": [3, 10, 12, 13, 14, 15], "dai": [3, 4, 10, 15], "If": [3, 7, 8, 10, 11, 15], "60": [3, 8, 12, 13], "min": [3, 10, 15], "30": [3, 7], "workflowtool": 3, "pitfal": [3, 5], "when": [3, 7, 12, 13, 14], "conclus": [3, 10], "recommend": [3, 10], "quick": 3, "guid": 3, "list": [3, 7, 14], "larger": 3, "resourc": [3, 8, 11, 12, 14], "It": 3, "extrem": 3, "more": [3, 7, 11, 12, 13, 14], "direct": 3, "later": 3, "learner": 3, "persona": 3, "just": [3, 7, 11, 12, 13], "taken": [3, 14], "while": [3, 5, 7, 11, 14], "mostli": 3, "understand": 3, "pice": 3, "wonder": 3, "doe": [3, 5, 7, 8, 11, 12, 13, 14], "togeth": 3, "an": [3, 6, 7, 8, 11, 12, 13, 14], "whole": [3, 7], "care": [3, 11, 12, 13], "real": 3, "now": [3, 7, 11, 12, 13], "wouldn": 3, "mind": [3, 14], "scope": 3, "stuff": 3, "spend": 3, "much": [3, 5, 11], "mental": 3, "effort": 3, "ll": 3, "watch": 3, "rest": 3, "until": 3, "come": 3, "been": 3, "fine": [3, 14], "think": [3, 7], "well": [3, 12, 15], "must": 3, "trick": 3, "life": 3, "even": [3, 7, 14], "attend": 3, "passiv": 3, "collabor": 3, "between": [3, 7, 14], "10": [3, 8, 10, 11, 12, 14, 15], "e": [4, 5, 7, 11, 12, 13, 14], "g": [4, 5, 7, 11, 12, 13, 14], "befor": [4, 6, 12], "set": [4, 6, 7, 8, 11, 12, 13], "common": [4, 15], "repositori": 4, "get": [5, 6, 11, 14], "poption": 5, "repeat": [5, 11], "alreadi": [5, 7, 12], "occur": 5, "speed": [5, 11], "processor": [5, 11], "hasn": [5, 11], "increas": [5, 11], "decad": [5, 11], "6": [5, 7, 8, 11], "ghz": [5, 11], "2010": [5, 11], "v": [5, 11], "2020": [5, 11], "core": [5, 11], "ha": [5, 7, 11], "ot": [5, 11], "max": [5, 11], "machin": [5, 7, 11], "particularili": [5, 11, 12, 13], "look": [5, 6, 7, 11, 12], "thu": [5, 7, 11], "risen": [5, 11], "lot": [5, 11, 12], "addit": [5, 7, 11, 14], "amount": [5, 11], "nowadai": [5, 11], "often": [5, 11, 12, 13], "requir": [5, 7, 11, 12], "u": [5, 7, 11, 12, 13], "same": [5, 6, 7, 8, 11, 12, 13, 14, 15], "pocess": [5, 11], "time": [5, 6, 7, 8, 11, 12, 13, 14, 15], "point": [5, 11, 14], "pre": [5, 11], "librari": [5, 11, 14], "inher": [5, 11], "sever": [5, 11, 12, 14], "mathemat": [5, 11], "applic": [5, 11], "unless": [5, 11], "techniqu": [5, 11], "batch": [6, 8], "like": [6, 7, 12, 13, 14], "my_array_job": 6, "100": 6, "environ": [6, 7, 12], "task": [6, 7, 8], "id": [6, 7, 14], "whatev": [6, 7], "your_command": 6, "50": 6, "size": [6, 7], "default": 6, "omit": 6, "indic": [6, 12, 13], "jobid": 6, "arrayid": 6, "respect": 6, "select": 6, "tell": 6, "program": [6, 11], "element": [6, 7, 12, 13, 14], "done": [6, 7, 14], "pass": [6, 7], "add": [6, 11, 12, 13, 14], "instanc": [6, 14], "necessari": [6, 7], "simpl": [6, 7, 12, 13], "To": [6, 7, 14], "logic": 6, "detail": [6, 7], "conveni": [6, 12, 13], "wai": [6, 7, 8, 12, 13], "achiev": [6, 11, 12, 13], "next": [6, 12], "section": 6, "altern": [6, 12, 13], "commonli": [6, 14], "goal": 6, "situat": [7, 8, 11, 12, 13, 14], "coupl": 7, "order": [7, 12], "jupyt": 7, "nearest": 7, "toolkit": 7, "notbook": 7, "found": [7, 11], "rther": 7, "export": 7, "convers": 7, "distinct": 7, "model": [7, 8], "former": 7, "exactli": 7, "onc": [7, 14], "shouldn": 7, "compar": 7, "includ": 7, "those": [7, 12], "sure": [7, 12, 13], "folder": [7, 14], "exist": [7, 12, 14], "alwai": [7, 8, 12, 13], "unnecessari": [7, 11, 12], "again": [7, 12, 13], "clean": 7, "otherwis": [7, 11], "leav": 7, "unchang": 7, "about": [7, 10, 11, 14, 15], "why": 7, "support": 7, "both": [7, 15], "docker": [7, 12], "definit": 7, "activ": 7, "python3_10": 7, "harbor": 7, "aalto": 7, "fi": 7, "aaltors": 7, "latest": [7, 12], "discuss": [7, 15], "lectur": 7, "queue": 7, "neighbourhood": 7, "one": [7, 11, 12, 14], "after": [7, 14], "anoth": [7, 11, 12], "simultan": [7, 11, 14], "howev": [7, 11, 12, 13, 14], "find": 7, "suitabl": 7, "piec": [7, 12, 13, 14], "66": 7, "essenti": [7, 8], "metrici": 7, "neighborhood": 7, "complet": [7, 14], "could": [7, 11, 12, 13, 14], "count": 7, "function": [7, 8, 11, 12, 13, 14], "hard": 7, "difficult": 7, "would": [7, 11, 12, 13, 14], "good": 7, "specifi": 7, "There": [7, 8, 11, 14], "receiv": 7, "determin": [7, 12, 13], "arrai": [7, 8, 10, 12, 13, 14], "custom": 7, "advantag": 7, "being": [7, 8], "integr": 7, "mail": 7, "notif": 7, "normal": 7, "arrayjob": 7, "slurm_array_job_id": 7, "defin": [7, 12, 13, 14], "take": [7, 8, 11, 12, 13, 14], "rang": [7, 8, 12, 13, 14], "three": [7, 12, 13], "less": 7, "disadvantag": 7, "cannot": [7, 14], "kind": 7, "give": 7, "write": [7, 12, 13, 14], "corrupt": [7, 14], "previou": 7, "successfulli": 7, "prefer": 7, "echo": [7, 12, 13], "world": [7, 12, 13], "run_echo_world": [7, 12, 13], "seq_along": [7, 12, 13, 14], "element1": [7, 12, 13], "charact": [7, 12, 13, 14], "past": [7, 12, 13], "collaps": [7, 12, 13], "rscript": [7, 12, 13, 14], "relev": 7, "case": [7, 14], "statist": 7, "store": [7, 12, 14], "pseudo": [7, 8], "load_preprocessed_data": 7, "20": 7, "calc_statist": 7, "end": [7, 11, 14], "index_from_argu": 7, "result_": [7, 14], "larg": [7, 8, 11], "instead": 7, "o": [7, 14], "sy": [7, 12, 13, 14], "folder_path": [7, 14], "argv": [7, 12, 13, 14], "data_arrai": [7, 14], "filenam": [7, 14], "listdir": [7, 14], "startswith": [7, 14], "file_path": [7, 14], "join": [7, 14], "insert": [7, 14], "varieti": 8, "anyth": 8, "than": [8, 12, 13], "embarassinlgi": 8, "load_and_preprocess_data": [8, 14], "len": [8, 14], "parameters1": 8, "parameters2": 8, "b": 8, "d": 8, "p1": 8, "p2": 8, "append": [8, 14], "appli": 8, "everi": 8, "datapoint": 8, "cassic": 8, "hyper": 8, "sweep": 8, "entri": [8, 11], "short": 8, "overhead": [8, 11, 14], "wast": 8, "million": 8, "try": [8, 11, 14], "minut": 8, "reduc": 8, "significantli": 8, "see": [10, 15], "hpc": [10, 15], "motiv": 10, "via": [10, 14], "script": [10, 12, 14], "snakemak": 10, "walkthrough": 10, "curv": 11, "intern": [11, 14], "har": 11, "main": [11, 12, 13], "speedup": 11, "theori": 11, "lead": [11, 12, 14], "unparallel": 11, "theoret": 11, "maximum": 11, "rare": 11, "reach": 11, "cost": 11, "associ": 11, "clariti": 11, "initi": [11, 14], "worker": 11, "pool": 11, "memori": 11, "copi": 11, "perform": 11, "hidden": [11, 14], "side": 11, "effect": 11, "slow": 11, "down": 11, "imagin": 11, "numpi": 11, "math": 11, "cpu": 11, "paralel": 11, "multi": 11, "thread": 11, "thei": [11, 14], "multiprocess": 11, "copmut": 11, "interfer": 11, "signific": 11, "runtim": 11, "wors": 11, "figur": 11, "issu": [11, 15], "patrallel": 11, "obvious": 11, "put": [11, 12, 13], "burdon": 11, "oper": 11, "concurr": 11, "overal": 11, "exclusivelu": 11, "reserv": 11, "faster": 11, "slower": 11, "By": [11, 14], "around": 11, "encount": 11, "assign": 11, "doesn": [11, 14], "worri": 11, "specif": [11, 14], "stai": 11, "cleaner": 11, "extra": 11, "easier": [11, 12, 13], "debug": 11, "seen": [12, 13], "correspondingli": 12, "approach": [12, 13], "float": [12, 13], "text": 12, "etc": 12, "bigger": 12, "postprocess": 12, "correct": 12, "correctli": 12, "As": 12, "submiss": [12, 13, 14], "manag": 12, "tool": 12, "idea": 12, "present": 12, "rule": 12, "its": 12, "These": 12, "written": [12, 14], "snakefil": 12, "detect": 12, "expect": [12, 14], "produc": 12, "miss": [12, 14], "pull": 12, "contain": 12, "creat": [12, 13, 14], "request": 12, "conda": 12, "continuumio": 12, "miniconda3": 12, "condaforg": 12, "mambaforg": 12, "11": [12, 13], "expand": 12, "tmpdir": 12, "tmp": 12, "env": 12, "yml": 12, "shell": 12, "wildcard": 12, "preprocess_data": 12, "new": 12, "resubmit": 12, "correspond": 12, "regardless": 12, "downsid": 12, "intricaci": 12, "walk": [12, 13], "scan": [12, 13], "non": [12, 13, 14], "space": [12, 13], "textual": [12, 13], "them": [12, 13], "usabl": [12, 13], "forc": [12, 13], "edit": [12, 13], "project": [12, 13], "itself": [12, 13], "touch": [12, 13], "packag": [12, 13], "numb": [12, 13], "rand": [12, 13], "outputfil": [12, 13], "parameter1": [12, 13], "parameter2": [12, 13], "string": [12, 13], "def": [12, 13, 14], "long_funct": [12, 13], "string_paramet": [12, 13], "float_paramet": [12, 13], "sleep": [12, 13], "return": [12, 13], "print": [12, 13], "w": [12, 13], "scan_data": [12, 13], "output_str": [12, 13], "con": [12, 13], "cat": [12, 13], "close": [12, 13], "connect": [12, 13], "commandarg": [12, 13, 14], "trailingonli": [12, 13, 14], "enough": [12, 13], "numer": [12, 13, 14], "sai": [12, 13], "file1": [12, 13], "joe": [12, 13], "23": [12, 13], "file2": [12, 13], "jane": [12, 13], "file3": [12, 13], "scan_cod": [12, 13], "small": [12, 13], "star": [12, 13], "outfil": [12, 13], "element2": [12, 13], "element3": [12, 13], "explicit": [12, 13], "Be": [12, 13], "suppli": [12, 13], "due": [12, 13, 14], "round": [12, 13], "represent": [12, 13], "intend": [12, 13], "veri": [12, 13, 14], "huge": [12, 13], "impact": [12, 13], "cours": [12, 13], "nest": [12, 13], "place": 14, "few": 14, "constraint": 14, "pai": 14, "attent": 14, "consider": 14, "empti": 14, "through": 14, "serial": 14, "identifi": 14, "convert": 14, "append_result": 14, "result_fil": 14, "allr": 14, "except": 14, "filenotfounderror": 14, "rd": 14, "readrd": 14, "els": 14, "writerd": 14, "sarrai": 14, "worst": 14, "invalid": 14, "aris": [14, 15], "becaus": 14, "fail": 14, "thrown": 14, "inconveni": 14, "suspici": 14, "conflict": 14, "simpli": 14, "lost": 14, "Or": 14, "entir": 14, "filesystem": 14, "complain": 14, "realli": 14, "mean": 14, "collection_job": 14, "afterok": 14, "your_array_job_id": 14, "becom": 14, "result_fold": 14, "sprintf": 14, "directori": 14, "ollid": 14, "distinguish": 14, "resultdir": 14, "results_": 14, "slurm_job_id": 14, "dir": 14, "p": 14, "your_exampl": 14, "collectionscript": 14, "split": 14, "grepl": 14, "9": 14, "sub": 14, "result_file_path": 14, "saverd": 14, "results_your_array_job_id": 14, "artifici": 14, "user": 14, "who": 14, "commun": 14, "temporari": 14, "were": 14, "unreli": 14, "wa": 14, "lucki": 14, "strang": 14, "none": 14, "reliabl": 14, "home": 14, "highlight": 15, "excess": 15}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"appli": 0, "k": 0, "nearest": 0, "neighbor": 0, "classif": 0, "iri": 0, "flower": 0, "data": 0, "set": 0, "import": 0, "preprocess": 0, "fit": 0, "pipelin": 0, "plot": 0, "decis": 0, "boundari": 0, "conclus": [1, 9], "recommend": [1, 9], "list": 2, "exercis": [2, 4, 6, 7], "full": 2, "exampl": [2, 7], "walkthrough": [2, 7], "parallel": [2, 3, 5, 6, 7, 8, 10, 11, 12, 13], "1": [2, 6, 7], "add": [2, 7], "metric": [2, 7], "paramet": [2, 7], "submiss": [2, 6, 7], "solut": [2, 6, 7], "us": [2, 6, 12], "slurm": [2, 6, 7], "arrai": [2, 6], "job": [2, 6, 8], "2": [2, 6], "creat": [2, 6, 7], "script": [2, 6, 7, 13], "run": [2, 6, 7], "tuesdai": 3, "tool": 3, "techniqu": 3, "hpc": 3, "cours": [3, 10, 15], "instanc": [3, 10, 15], "april": [3, 10, 15], "2024": [3, 10, 15], "prerequisit": [3, 10, 15], "The": [3, 10, 15], "lesson": [3, 4, 10, 15], "refer": [3, 16], "who": 3, "i": 3, "about": 3, "see": 3, "also": 3, "credit": 3, "instructor": 4, "": 4, "guid": 4, "why": [4, 5, 11], "we": 4, "teach": 4, "thi": 4, "intend": 4, "learn": 4, "outcom": 4, "time": 4, "prepar": 4, "other": [4, 12], "practic": 4, "aspect": 4, "interest": 4, "question": 4, "you": 4, "might": 4, "get": 4, "typic": 4, "pitfal": [4, 11, 15], "motiv": [5, 11], "object": [5, 11], "all": [5, 11], "more": 6, "complex": 6, "convert": 7, "notebook": 7, "python": 7, "split": 7, "pre": 7, "process": 7, "execut": 7, "updat": 7, "code": [7, 8, 15], "cluster": 7, "build": 7, "contain": 7, "depend": 7, "flexibl": 7, "post": 7, "step": 7, "concept": 8, "embarassingli": [8, 10], "size": 8, "problem": 10, "advantag": 11, "move": 11, "schedul": 11, "level": 11, "snakemak": 12, "via": 13, "common": 14, "issu": 14, "concurr": 14, "when": 15, "parallelis": 15, "quick": 16}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Apply K nearest neighbors classification to the Iris flower data set": [[0, "apply-k-nearest-neighbors-classification-to-the-iris-flower-data-set"]], "Import": [[0, "import"]], "Preprocess data": [[0, "preprocess-data"]], "Fit pipelines and plot decision boundaries": [[0, "fit-pipelines-and-plot-decision-boundaries"]], "Conclusions and recommendations": [[1, "conclusions-and-recommendations"], [9, "conclusions-and-recommendations"]], "List of exercises": [[2, "list-of-exercises"]], "Full list": [[2, "full-list"]], "Example Walkthrough": [[2, "example-walkthrough"], [7, "example-walkthrough"]], "Parallel-1: Add the metrics as a parameter to the submission": [[2, "exercise-0"], [7, "exercise-0"]], "Solution: Parallel-1": [[2, "solution-0"], [7, "solution-0"]], "Parallelize using Slurm Array jobs": [[2, "parallelize-using-slurm-array-jobs"], [6, "parallelize-using-slurm-array-jobs"]], "Parallel-2: Create a slurm script and run it.": [[2, "exercise-0"], [6, "exercise-0"]], "Solution: Parallel-2": [[2, "solution-0"], [6, "solution-0"]], "Tuesdays tools and techniques for HPC - Parallelization": [[3, "tuesdays-tools-and-techniques-for-hpc-parallelization"]], "Course instance in April 2024": [[3, null], [10, null], [15, null]], "Prerequisites": [[3, "prerequisites-0"], [10, "prerequisites-0"], [15, "prerequisites-0"]], "The lesson": [[3, null], [10, null], [15, null]], "Reference": [[3, null]], "Who is the course for?": [[3, "who-is-the-course-for"]], "About the course": [[3, "about-the-course"]], "See also": [[3, "see-also"]], "Credits": [[3, "credits"]], "Instructor\u2019s guide": [[4, "instructor-s-guide"]], "Why we teach this lesson": [[4, "why-we-teach-this-lesson"]], "Intended learning outcomes": [[4, "intended-learning-outcomes"]], "Timing": [[4, "timing"]], "Preparing exercises": [[4, "preparing-exercises"]], "Other practical aspects": [[4, "other-practical-aspects"]], "Interesting questions you might get": [[4, "interesting-questions-you-might-get"]], "Typical pitfalls": [[4, "typical-pitfalls"]], "Motivation": [[5, "motivation"], [11, "motivation"]], "Objectives": [[5, "objectives-0"], [11, "objectives-0"]], "Why parallelize at all": [[5, "why-parallelize-at-all"], [11, "why-parallelize-at-all"]], "Exercise 1": [[6, "exercise-1"], [7, "exercise-1"]], "More complex submission scripts": [[6, "more-complex-submission-scripts"]], "Convert the notebook to a python script": [[7, "convert-the-notebook-to-a-python-script"]], "Split into a pre-processing and a execution script": [[7, "split-into-a-pre-processing-and-a-execution-script"]], "Update code to run on a cluster": [[7, "update-code-to-run-on-a-cluster"]], "Build a container for dependencies": [[7, "build-a-container-for-dependencies"]], "Create a slurm script to run the code": [[7, "create-a-slurm-script-to-run-the-code"]], "Updating the code for parallel execution (and flexibility)": [[7, "updating-the-code-for-parallel-execution-and-flexibility"]], "Update the slurm scripts": [[7, "update-the-slurm-scripts"]], "Build a submission script": [[7, "build-a-submission-script"]], "Post processing steps": [[7, "post-processing-steps"]], "Concepts": [[8, "concepts"]], "Embarassingly parallel code": [[8, "embarassingly-parallel-code"]], "Size of jobs": [[8, "size-of-jobs"]], "Embarassingly Parallel Problems": [[10, "embarassingly-parallel-problems"]], "Advantages and pitfalls of parallelization": [[11, "advantages-and-pitfalls-of-parallelization"]], "Moving the parallelization to the scheduler level": [[11, "moving-the-parallelization-to-the-scheduler-level"]], "Parallelize using Snakemake": [[12, "parallelize-using-snakemake"]], "Other": [[12, "other"]], "Parallelize via a script": [[13, "parallelize-via-a-script"]], "Common issues": [[14, "common-issues"]], "Concurrency issues": [[14, "concurrency-issues"]], "Pitfalls when parallelising code": [[15, "pitfalls-when-parallelising-code"]], "Quick Reference": [[16, "quick-reference"]]}, "indexentries": {}})