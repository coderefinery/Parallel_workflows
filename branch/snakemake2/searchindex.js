Search.setIndex({"docnames": ["code/jupyter/knn_iris", "conclusions", "exercises", "index", "instructor-guide", "motivation", "parallelization/array_jobs", "parallelization/concepts", "parallelization/conclusions", "parallelization/index", "parallelization/motivation", "parallelization/parallelize_using_script", "parallelization/parallelize_using_workflow_manager", "parallelization/submission_by_script", "pitfalls/concurrency_issues", "pitfalls/index", "pitfalls/os_side", "quick-reference"], "filenames": ["code/jupyter/knn_iris.ipynb", "conclusions.md", "exercises.rst", "index.rst", "instructor-guide.rst", "motivation.md", "parallelization/array_jobs.md", "parallelization/concepts.md", "parallelization/conclusions.md", "parallelization/index.rst", "parallelization/motivation.md", "parallelization/parallelize_using_script.md", "parallelization/parallelize_using_workflow_manager.md", "parallelization/submission_by_script.md", "pitfalls/concurrency_issues.md", "pitfalls/index.rst", "pitfalls/os_side.md", "quick-reference.rst"], "titles": ["Apply K nearest neighbors classification to the Iris flower data set", "Conclusions and recommendations", "List of exercises", "Tuesdays tools and techniques for HPC - Parallelization", "Instructor\u2019s guide", "Motivation", "Parallelize using Slurm Array jobs", "Concepts", "Conclusions and recommendations", "Embarassingly Parallel Problems", "Motivation", "Parallelize using Script", "Parallelize using Workflow Manager", "Parallelize via a script", "Concurrency issues", "Pitfalls when parallelising code", "Hardware/Server limitations", "Quick Reference"], "terms": {"input": [0, 1, 2, 6, 7, 8, 10, 11, 12, 13], "http": [0, 2, 11], "www": 0, "kaggl": 0, "com": 0, "dataset": [0, 16], "vikrishnan": 0, "licens": 0, "public": [0, 11, 12], "domain": 0, "cc0": 0, "output": [0, 2, 6, 11, 12, 13, 14], "classifi": [0, 2, 11], "us": [0, 1, 3, 5, 8, 9, 10, 13, 14, 15, 16], "differ": [0, 2, 3, 6, 11, 12, 13, 14, 15], "number": [0, 2, 5, 6, 10, 11, 12, 13], "n_neighbor": [0, 2, 11, 12], "fix": 0, "distanc": 0, "metric": [0, 12], "The": [0, 2, 6, 7, 10, 11, 12, 13, 14, 16], "result": [0, 1, 2, 7, 8, 10, 11, 12, 13, 14, 15, 16], "file": [0, 11, 12, 13], "structur": [0, 5], "1___metric": 0, "euclidean": [0, 2, 11, 12], "png": [0, 2, 11, 12], "2___metric": 0, "4___metric": 0, "8___metric": 0, "16___metric": 0, "32___metric": 0, "64___metric": 0, "depend": [0, 2, 3, 7, 10, 13, 14, 16], "path": [0, 2, 11, 12, 14], "pickl": [0, 2, 11, 14], "from": [0, 1, 2, 5, 6, 8, 10, 11, 12, 13, 14, 16], "sklearn": [0, 2, 11], "load_iri": 0, "model_select": 0, "train_test_split": 0, "kneighborsclassifi": [0, 2, 11], "standardscal": [0, 2, 11], "inspect": [0, 2, 11], "decisionboundarydisplai": [0, 2, 11], "matplotlib": [0, 2, 11], "pyplot": [0, 2, 11], "plt": [0, 2, 11], "modulenotfounderror": 0, "traceback": 0, "most": [0, 3, 5, 9, 10, 11, 14, 15, 16], "recent": 0, "call": [0, 1, 8, 10, 11, 13, 14], "last": [0, 5, 10], "cell": 0, "In": [0, 2, 3, 5, 6, 7, 10, 11, 12, 14, 15, 16], "1": [0, 5, 7, 10, 12, 13, 14], "line": [0, 1, 8, 10, 11, 13, 14], "2": [0, 5, 7, 10, 11, 12, 13, 14, 16], "4": [0, 2, 5, 6, 7, 10, 11, 12], "No": 0, "modul": [0, 2, 6, 11], "name": [0, 2, 6, 11, 13, 14], "load": [0, 2, 6, 11, 14, 16], "extract": [0, 11, 13], "two": [0, 7, 11, 13, 14], "featur": [0, 2, 11], "sepallengthcm": 0, "sepalwidthcm": 0, "out": [0, 2, 3, 6, 10, 11, 12, 13, 14, 16], "avail": [0, 2, 5, 6, 10, 11, 13, 14, 16], "four": [0, 2, 6, 11], "petallengthcm": 0, "petalwidthcm": 0, "map": 0, "class": [0, 2, 11], "label": 0, "setosa": 0, "versicolor": 0, "virginica": 0, "integ": [0, 6, 11, 12, 13, 14], "0": [0, 2, 6, 11, 14], "divid": 0, "randomli": [0, 16], "train": [0, 11, 12, 16], "test": [0, 11], "save": [0, 2, 11, 14], "disk": [0, 2, 11, 12, 16], "as_fram": 0, "true": [0, 2, 5, 10, 11, 13, 14], "sepal": 0, "length": 0, "cm": 0, "width": 0, "x": [0, 2, 11], "target_nam": 0, "y": [0, 2, 11], "target": [0, 12, 16], "x_train": [0, 2, 11], "x_test": [0, 2, 11], "y_train": [0, 2, 11], "y_test": [0, 2, 11], "stratifi": 0, "random_st": 0, "mkdir": [0, 2, 11, 14], "exist_ok": [0, 2, 11], "dump": [0, 11, 14], "open": [0, 2, 3, 9, 11, 13, 14, 15], "pkl": [0, 2, 11, 12, 14], "wb": [0, 11, 14], "loop": [0, 2, 10, 11, 12, 13, 14, 16], "over": [0, 2, 5, 10, 11, 12, 13, 16], "paramet": [0, 1, 6, 7, 8, 12, 13], "standard": [0, 2, 11], "scaler": [0, 2, 11], "knn": [0, 2, 11], "imag": [0, 2, 11, 12], "rb": [0, 2, 11, 14], "f": [0, 2, 11, 13, 14], "displai": 0, "head": 0, "tail": 0, "scikit": [0, 2, 11], "learn": [0, 2, 3, 9, 10, 11, 12, 15], "org": [0, 2, 11], "stabl": [0, 2, 11], "gener": [0, 2, 6, 7, 10, 11, 12, 13, 14], "pairwis": [0, 2, 11], "distance_metr": [0, 2, 11], "html": [0, 2, 11], "n_neighbors_list": [0, 12], "8": [0, 2, 11, 12], "16": [0, 2, 11, 12], "32": [0, 2, 11, 12], "64": [0, 2, 5, 10, 11, 12], "manhattan": [0, 2, 11, 12], "l1": [0, 2, 11, 12], "haversin": [0, 2, 11, 12], "cosin": [0, 2, 11, 12], "clf": [0, 2, 11], "step": [0, 2, 5, 6, 7, 10, 12], "disp": [0, 2, 11], "from_estim": [0, 2, 11], "response_method": [0, 2, 11], "predict": [0, 2, 11], "plot_method": [0, 2, 11], "pcolormesh": [0, 2, 11], "xlabel": [0, 2, 11], "ylabel": [0, 2, 11], "shade": [0, 2, 11], "auto": [0, 2, 11], "alpha": [0, 2, 11], "5": [0, 2, 3, 7, 9, 11, 13, 15], "scatter": [0, 2, 11], "ax_": [0, 2, 11], "iloc": [0, 2, 11], "c": [0, 2, 7, 11, 12, 13], "edgecolor": [0, 2, 11], "legend": [0, 2, 11], "legend_el": [0, 2, 11], "loc": [0, 2, 11], "lower": [0, 2, 11], "left": [0, 2, 3, 10, 11], "titl": [0, 2, 11], "_": [0, 2, 11, 14], "set_titl": [0, 2, 11], "3": [0, 2, 5, 6, 7, 10, 11, 13], "n": [0, 2, 10, 11], "r": [0, 2, 11, 12, 13, 14], "show": [0, 2, 3, 6, 7, 10, 11], "parent": [0, 2, 11], "savefig": [0, 2, 11], "___metric": [0, 2, 11, 12], "schedul": [1, 3, 7, 8, 9, 11, 12, 13, 15], "base": [1, 2, 3, 6, 8, 9, 11, 13, 15], "parallelis": [1, 3, 8], "embarassingli": [1, 3, 8, 11, 12, 14], "parallel": [1, 8, 14, 15, 16], "problem": [1, 3, 5, 8, 10, 13, 14, 16], "adapt": [1, 2, 6, 8, 11], "your": [1, 2, 3, 6, 8, 10, 11, 12, 13, 14, 16], "code": [1, 2, 3, 6, 8, 9, 10, 12, 13, 14, 16], "allow": [1, 3, 8, 9, 11, 12, 15, 16], "can": [1, 3, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16], "read": [1, 3, 8, 10, 14, 16], "command": [1, 2, 6, 8, 11, 13, 14], "potenti": [1, 8, 14], "build": [1, 2, 6, 8, 13], "collect": [1, 8, 10, 11, 14], "method": [1, 8, 11, 12, 14], "re": [1, 5, 7, 8, 10, 11, 13, 14, 16], "combin": [1, 3, 8, 11, 12, 13, 14], "individu": [1, 7, 8, 11, 12, 16], "execut": [1, 5, 7, 8, 14, 16], "system": [1, 8, 10, 11, 13, 16], "languag": [1, 3, 5, 6, 8, 9, 10, 11, 12, 13, 14], "submit": [1, 8, 10, 11, 12, 13], "job": [1, 8, 9, 11, 12, 13, 14, 16], "avoid": [1, 5, 8, 10, 11, 14, 16], "complex": [1, 8, 12, 13, 14], "bash": [1, 2, 6, 8, 11, 13, 14], "you": [1, 2, 3, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16], "ar": [1, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16], "familiar": [1, 6, 8], "keep": [1, 8, 11, 14, 16], "variabl": [1, 6, 8, 11], "separ": [1, 8, 11, 13], "reusabl": [1, 8, 12], "unintent": [1, 8], "error": [1, 2, 6, 8, 13, 14], "better": [1, 3, 8, 16], "track": [1, 8], "run": [1, 5, 7, 8, 10, 12, 13, 14, 15, 16], "thi": [2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16], "i": [2, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16], "all": [2, 3, 9, 11, 12, 13, 14, 15, 16], "lesson": 2, "mainli": 2, "refer": [2, 13], "helper": 2, "instructor": [2, 3], "automat": 2, "other": [2, 3, 7, 10, 11, 13, 14], "page": [2, 3, 9, 15], "ani": [2, 6, 10, 11], "singl": [2, 5, 10], "teach": 2, "event": 2, "probabl": [2, 3, 14], "cover": [2, 3, 5, 10], "onli": [2, 6, 10, 11, 12, 14, 16], "subset": 2, "interest": [2, 3], "parallelize_using_script": 2, "md": 2, "let": [2, 3, 11, 13, 14], "": [2, 3, 10, 11, 12, 14], "assum": [2, 6, 11, 13, 14], "we": [2, 3, 5, 6, 9, 10, 11, 12, 13, 14, 15, 16], "notic": [2, 11], "still": [2, 3, 9, 11, 15, 16], "took": [2, 11], "too": [2, 3, 7, 11], "long": [2, 3, 11], "our": [2, 6, 11, 12, 13, 14, 16], "purpos": [2, 11, 13], "also": [2, 10, 11, 12, 13, 14, 15], "want": [2, 11, 13], "part": [2, 9, 11, 12, 14, 16], "need": [2, 3, 6, 7, 10, 11, 12, 13, 14, 15, 16], "updat": 2, "train_and_plot": [2, 11, 12, 14], "py": [2, 6, 11, 12, 13, 14], "sbatch": [2, 6, 11, 13, 14], "remov": [2, 11], "follow": [2, 3, 9, 10, 11, 13, 14, 15], "parser": [2, 11], "pathlib": [2, 11], "import": [2, 11, 13, 14, 16], "argpars": [2, 11], "neighbor": [2, 11], "pipelin": [2, 7, 11], "preprocess": [2, 11, 12, 14], "fit": [2, 3, 11], "plot": [2, 11, 12], "decis": [2, 11], "boundari": [2, 11], "pars": [2, 6, 11, 13], "argument": [2, 6, 11, 13, 14], "argumentpars": [2, 11], "add_argu": [2, 11], "type": [2, 3, 5, 7, 10, 11, 12], "int": [2, 11, 14], "help": [2, 3, 11], "calcul": [2, 6, 7, 10, 11, 13, 14], "str": [2, 11], "arg": [2, 11, 13, 14], "parse_arg": [2, 11], "data": [2, 5, 7, 10, 11, 12, 14, 16], "iri": [2, 11, 12], "k": [2, 11], "classif": [2, 11], "Then": [2, 11], "ad": [2, 11, 13], "further": [2, 11], "bin": [2, 6, 11, 13, 14], "long_job": [2, 6, 11, 13, 14], "singular": [2, 11, 14], "box": [2, 6, 11, 12, 13, 14], "cluster": [2, 3, 5, 6, 7, 9, 10, 12, 13, 14, 15, 16], "have": [2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16], "here": [2, 3, 6, 7, 9, 10, 11, 13, 14, 15], "make": [2, 3, 6, 9, 10, 11, 12, 13, 14, 15, 16], "exec": [2, 11, 14], "python_contain": [2, 11, 14], "python": [2, 6, 10, 12, 13, 14, 16], "And": [2, 5, 10, 11, 14], "final": [2, 3, 6, 9, 10, 11, 12, 15], "valu": [2, 6, 10, 11, 13], "subprocess": [2, 11, 13], "sh": [2, 11, 13], "array_job": 2, "For": [2, 6, 11, 12, 16], "exampl": [2, 3, 6, 10, 11, 12, 13, 14], "abov": [2, 6, 14, 16], "bit": [2, 3, 6, 9, 14, 15], "first": [2, 6, 7, 10, 11, 12], "countri": [2, 6], "second": [2, 6, 7, 11, 16], "start": [2, 6, 7, 11, 12, 16], "sinc": [2, 6, 11, 13, 14, 16], "zero": [2, 6], "index": [2, 3, 6, 11, 13, 14], "chang": [2, 6, 11], "don": [2, 3, 6, 9, 10, 13, 14, 15], "t": [2, 3, 5, 6, 9, 10, 11, 13, 14, 15, 16], "provid": [2, 6, 11, 13, 16], "directli": [2, 6, 11], "long_cod": [2, 6], "should": [2, 6, 7, 11, 12, 13, 14], "abl": [2, 6, 11], "output_": [2, 6], "a_": [2, 6], "txt": [2, 6], "error_": [2, 6], "python3": [2, 6, 11, 13, 14], "replac": [2, 6, 11, 13, 14], "actual": [2, 3, 5, 6, 10, 11, 13, 14], "slurm_array_task_id": [2, 6, 14], "under": [3, 9, 15], "construct": [3, 9, 15], "pleas": [3, 9, 15], "plan": [3, 9, 15], "hackmd": [3, 9, 15], "link": [3, 9, 15], "check": [3, 9, 12, 13, 15], "coderefineri": [3, 9, 11, 12, 15], "chat": [3, 9, 15], "current": [3, 6, 9, 11, 13, 15], "date": [3, 9, 15], "given": [3, 9, 12, 13, 15], "yet": [3, 9, 12, 14, 15], "known": [3, 9, 15], "registr": [3, 9, 15], "though": [3, 9, 15], "improv": [3, 5, 10], "workflow": [3, 5, 9, 11, 14, 16], "ve": 3, "had": [3, 14, 16], "basic": [3, 9, 15], "work": [3, 11, 12, 13, 14], "what": [3, 4, 6, 10, 11, 12, 15], "do": [3, 4, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16], "peopl": 3, "practic": [3, 12], "tip": 3, "which": [3, 6, 10, 11, 12, 14, 15, 16], "mai": 3, "aren": 3, "usual": 3, "either": [3, 6, 11, 14], "advanc": 3, "won": [3, 9, 15, 16], "go": [3, 6, 11], "so": [3, 11, 13, 14, 16], "deep": 3, "each": [3, 5, 7, 10, 11, 12, 13, 14, 16], "topic": 3, "know": [3, 14], "everyth": [3, 16], "possibl": [3, 11, 12, 13, 16], "some": [3, 7, 9, 10, 11, 12, 13, 14, 15, 16], "where": [3, 5, 6, 7, 10, 13, 14, 16], "up": [3, 4, 5, 9, 10, 11, 14, 15, 16], "right": 3, "format": [3, 16], "design": 3, "firesid": 3, "expert": 3, "demo": 3, "along": [3, 11], "independ": [3, 11, 14], "exercis": [3, 9, 15], "engag": [3, 9, 15], "level": [3, 7, 9, 15], "introduc": [3, 9, 13], "concept": [3, 9], "how": [3, 5, 9, 11, 12, 13], "properti": [3, 9], "easili": [3, 7, 9, 16], "distribut": [3, 9], "heavi": [3, 9], "comput": [3, 7, 9, 10, 11, 12, 14, 15, 16], "multipl": [3, 5, 6, 9, 10, 11, 13, 14, 16], "process": [3, 5, 9, 10, 14, 16], "without": [3, 9], "necess": [3, 9], "fall": [3, 9], "back": [3, 9], "mechan": [3, 5, 9, 10], "within": [3, 6, 9, 12, 13, 14], "usag": [3, 9, 15, 16], "mani": [3, 5, 6, 9, 10, 11, 15, 16], "thing": [3, 9, 13, 14, 15], "talk": [3, 9, 15], "sens": [3, 9, 15], "might": [3, 6, 9, 10, 11, 14, 15, 16], "pick": [3, 9, 15], "someth": [3, 6, 9, 11, 14, 15], "anywai": [3, 9, 15], "A": [3, 6, 9, 11, 12, 15], "experi": [3, 9, 15, 16], "technic": [3, 9, 15], "option": [3, 9, 11, 12, 13, 15], "materi": [3, 9, 15], "deeper": [3, 9, 15], "access": [3, 9, 15], "slurm": [3, 9, 12, 13, 14, 15], "dai": [3, 4, 9, 15], "If": [3, 7, 9, 10, 11, 14, 15, 16], "60": [3, 7, 13, 16], "min": [3, 9, 15], "30": [3, 9, 11], "workflowtool": 3, "pitfal": [3, 5], "when": [3, 11, 13, 14], "conclus": [3, 9], "recommend": [3, 9, 12], "quick": 3, "guid": 3, "list": [3, 11, 14], "larger": [3, 16], "resourc": [3, 7, 10, 12, 15, 16], "It": [3, 16], "extrem": 3, "more": [3, 10, 11, 13, 14, 15, 16], "direct": 3, "later": 3, "learner": 3, "persona": 3, "just": [3, 10, 11, 13, 14, 16], "taken": [3, 15], "while": [3, 5, 10, 11, 14, 16], "mostli": 3, "understand": 3, "pice": 3, "wonder": 3, "doe": [3, 5, 7, 10, 11, 13, 14, 16], "togeth": 3, "an": [3, 6, 7, 10, 11, 12, 13, 14, 16], "whole": [3, 11], "care": [3, 10, 13], "real": 3, "now": [3, 10, 11, 12, 13, 16], "wouldn": 3, "mind": [3, 14], "scope": 3, "stuff": 3, "spend": 3, "much": [3, 5, 10], "mental": 3, "effort": 3, "ll": 3, "watch": 3, "rest": 3, "until": 3, "come": 3, "been": 3, "fine": [3, 14], "think": [3, 11], "well": [3, 12], "must": 3, "trick": 3, "life": 3, "even": [3, 11, 14, 16], "attend": 3, "passiv": 3, "collabor": 3, "between": [3, 11, 14], "10": [3, 7, 9, 10, 14], "e": [4, 5, 10, 11, 13, 14, 16], "g": [4, 5, 10, 11, 13, 14, 16], "befor": [4, 6, 12, 16], "set": [4, 6, 7, 10, 11, 13], "common": [4, 14], "repositori": 4, "get": [5, 6, 10, 14, 16], "poption": 5, "repeat": [5, 10], "alreadi": [5, 11, 12], "occur": 5, "speed": [5, 10, 16], "processor": [5, 10], "hasn": [5, 10], "increas": [5, 10, 16], "decad": [5, 10], "6": [5, 7, 10, 11], "ghz": [5, 10], "2010": [5, 10], "v": [5, 10], "2020": [5, 10], "core": [5, 10], "ha": [5, 10, 11, 16], "ot": [5, 10], "max": [5, 10], "machin": [5, 10, 11, 16], "particularili": [5, 10, 13], "look": [5, 6, 10, 11, 12], "thu": [5, 10, 11, 16], "risen": [5, 10], "lot": [5, 10, 16], "addit": [5, 10, 11, 15, 16], "amount": [5, 10, 16], "nowadai": [5, 10], "often": [5, 10, 13, 14, 16], "requir": [5, 10, 11, 12], "u": [5, 10, 11, 13, 16], "same": [5, 6, 7, 10, 11, 12, 13, 14, 16], "pocess": [5, 10], "time": [5, 6, 7, 10, 11, 12, 13, 14, 16], "point": [5, 10, 14], "pre": [5, 10, 16], "librari": [5, 10, 14], "inher": [5, 10, 16], "sever": [5, 10, 12, 14, 15], "mathemat": [5, 10], "applic": [5, 10, 16], "unless": [5, 10], "techniqu": [5, 10], "batch": [6, 7, 12], "like": [6, 11, 12, 13, 14, 16], "my_array_job": 6, "100": 6, "environ": [6, 11, 12, 16], "task": [6, 7, 11], "id": [6, 11, 14], "whatev": [6, 11], "your_command": 6, "50": 6, "size": [6, 11, 16], "default": 6, "omit": 6, "indic": [6, 13], "jobid": 6, "arrayid": 6, "respect": 6, "select": 6, "tell": [6, 12], "program": [6, 10], "element": [6, 11, 13, 14, 16], "done": [6, 11, 14], "pass": [6, 11], "add": [6, 10, 13, 14, 16], "instanc": [6, 14], "necessari": [6, 11, 16], "simpl": [6, 11, 13], "To": [6, 11, 14, 16], "logic": 6, "detail": [6, 11], "conveni": [6, 13], "wai": [6, 7, 11, 12, 13, 16], "achiev": [6, 10, 13], "next": [6, 12], "section": 6, "altern": [6, 12, 13], "commonli": [6, 14, 15, 16], "goal": 6, "essenti": [7, 11, 16], "function": [7, 10, 11, 13, 14], "larg": [7, 10, 11, 16], "varieti": 7, "anyth": 7, "than": [7, 13], "situat": [7, 10, 11, 13, 15, 16], "pseudo": [7, 11], "embarassinlgi": 7, "load_and_preprocess_data": [7, 14], "rang": [7, 11, 13, 14], "len": [7, 14], "parameters1": 7, "parameters2": 7, "b": 7, "d": 7, "p1": 7, "p2": 7, "append": [7, 14], "being": [7, 11], "appli": [7, 14, 16], "everi": 7, "datapoint": 7, "cassic": 7, "hyper": 7, "sweep": 7, "model": [7, 11, 16], "entri": [7, 10, 14], "short": [7, 16], "There": [7, 10, 11, 15], "alwai": [7, 11, 13], "overhead": [7, 10, 15, 16], "arrai": [7, 9, 11, 13, 14], "wast": 7, "million": 7, "try": [7, 10, 14, 16], "take": [7, 10, 11, 12, 13, 14, 16], "minut": [7, 16], "reduc": [7, 16], "significantli": 7, "see": [9, 15], "hpc": [9, 15], "about": [9, 10, 11, 14, 15, 16], "motiv": 9, "script": [9, 12, 14], "20": [9, 11], "manag": 9, "unnecessari": [10, 11], "curv": 10, "intern": [10, 14], "har": 10, "main": [10, 12, 13], "speedup": 10, "theori": 10, "lead": [10, 14, 16], "unparallel": 10, "howev": [10, 11, 12, 13, 14, 16], "theoret": 10, "maximum": 10, "rare": 10, "reach": 10, "cost": [10, 16], "associ": 10, "one": [10, 11, 12, 14, 16], "clariti": 10, "initi": [10, 14], "worker": 10, "pool": 10, "anoth": [10, 11, 12, 16], "memori": [10, 12], "copi": [10, 16], "perform": [10, 14], "hidden": [10, 14], "side": [10, 16], "effect": 10, "slow": 10, "down": 10, "imagin": [10, 16], "numpi": 10, "math": 10, "cpu": [10, 12, 16], "paralel": 10, "multi": 10, "thread": [10, 14], "thei": [10, 12, 14, 16], "multiprocess": 10, "copmut": 10, "could": [10, 11, 13, 14], "interfer": 10, "signific": 10, "runtim": [10, 12, 16], "wors": 10, "found": [10, 11], "figur": 10, "issu": [10, 15, 16], "would": [10, 11, 13, 14, 16], "patrallel": 10, "end": [10, 11, 14, 16], "obvious": 10, "put": [10, 13, 16], "burdon": 10, "oper": [10, 16], "concurr": [10, 15], "overal": [10, 16], "simultan": [10, 11, 14], "exclusivelu": 10, "reserv": 10, "faster": 10, "otherwis": [10, 11], "slower": [10, 16], "By": [10, 15, 16], "around": 10, "encount": 10, "assign": [10, 16], "doesn": [10, 14], "worri": 10, "specif": [10, 12, 14], "stai": 10, "cleaner": 10, "extra": 10, "easier": [10, 13, 14], "debug": 10, "coupl": 11, "order": [11, 12, 16], "walkthrough": 11, "jupyt": 11, "nearest": 11, "toolkit": 11, "notbook": 11, "rther": 11, "export": 11, "convers": 11, "distinct": 11, "former": 11, "exactli": 11, "onc": [11, 14, 16], "shouldn": 11, "compar": [11, 12], "includ": 11, "those": [11, 12, 16], "sure": [11, 12, 13, 16], "folder": [11, 14], "exist": [11, 12, 14], "again": [11, 13], "clean": 11, "leav": [11, 16], "unchang": 11, "why": 11, "support": [11, 12], "both": 11, "docker": [11, 12], "definit": 11, "activ": 11, "python3_10": 11, "harbor": [11, 12], "aalto": [11, 12], "fi": [11, 12], "aaltors": [11, 12], "latest": [11, 12], "discuss": 11, "lectur": 11, "queue": 11, "neighbourhood": 11, "after": [11, 14], "find": 11, "suitabl": 11, "piec": [11, 13, 14], "66": 11, "metrici": 11, "neighborhood": 11, "complet": [11, 12, 14], "count": 11, "hard": 11, "difficult": 11, "good": [11, 16], "specifi": [11, 12], "close": [11, 13], "receiv": 11, "determin": [11, 13], "custom": 11, "advantag": [11, 12, 16], "integr": 11, "mail": 11, "notif": 11, "normal": 11, "arrayjob": 11, "slurm_array_job_id": 11, "defin": [11, 12, 13, 14], "three": [11, 13], "less": [11, 14], "disadvantag": [11, 12, 16], "cannot": [11, 15], "kind": [11, 16], "give": [11, 14, 16], "write": [11, 12, 13, 14], "corrupt": [11, 14], "previou": 11, "successfulli": 11, "prefer": 11, "echo": [11, 13], "world": [11, 13], "run_echo_world": [11, 13], "seq_along": [11, 13, 14], "element1": [11, 13], "charact": [11, 13, 14], "past": [11, 13], "collaps": [11, 13], "rscript": [11, 13, 14], "relev": 11, "case": [11, 12, 14, 16], "statist": 11, "store": [11, 12, 14, 16], "load_preprocessed_data": 11, "calc_statist": 11, "index_from_argu": 11, "result_": [11, 14], "instead": 11, "o": [11, 14, 16], "sy": [11, 13, 14], "folder_path": [11, 14], "argv": [11, 13, 14], "data_arrai": [11, 14], "filenam": [11, 14], "listdir": [11, 14], "startswith": [11, 14], "file_path": [11, 14], "join": [11, 14], "insert": [11, 14], "seen": [12, 13], "correspondingli": 12, "approach": [12, 13], "float": [12, 13], "text": 12, "etc": [12, 16], "bigger": 12, "postprocess": 12, "correct": 12, "correctli": 12, "As": 12, "submiss": [12, 13, 14], "snakemak": 12, "tool": 12, "idea": [12, 16], "present": 12, "rule": 12, "its": [12, 14], "These": 12, "written": [12, 14], "snakefil": 12, "detect": 12, "expect": [12, 14], "produc": 12, "miss": [12, 14, 16], "convert": [12, 14], "profil": 12, "request": [12, 14, 16], "pull": 12, "contain": [12, 16], "creat": [12, 13, 14, 16], "conda": 12, "expand": 12, "log": 12, "shell": 12, "wildcard": 12, "preprocess_data": 12, "softwar": 12, "deploy": 12, "apptain": 12, "happen": 12, "infer": 12, "plot_decision_boundari": 12, "manner": 12, "note": 12, "configur": 12, "config": 12, "yml": 12, "mamba": 12, "rel": 12, "Not": 12, "choic": 12, "contact": 12, "admin": 12, "ask": 12, "them": [12, 13], "walk": 13, "scan": 13, "non": [13, 15], "space": 13, "textual": 13, "usabl": 13, "forc": 13, "edit": 13, "project": 13, "itself": 13, "touch": 13, "packag": [13, 16], "numb": 13, "rand": 13, "outputfil": 13, "parameter1": 13, "parameter2": 13, "string": 13, "def": [13, 14], "long_funct": 13, "string_paramet": 13, "float_paramet": 13, "sleep": 13, "return": 13, "print": 13, "w": 13, "scan_data": 13, "output_str": 13, "con": 13, "cat": 13, "connect": 13, "commandarg": [13, 14], "trailingonli": [13, 14], "enough": [13, 16], "numer": [13, 14], "sai": 13, "file1": 13, "joe": 13, "23": 13, "file2": 13, "jane": 13, "file3": 13, "11": 13, "scan_cod": 13, "small": [13, 16], "star": 13, "outfil": 13, "element2": 13, "element3": 13, "explicit": [13, 14], "Be": 13, "suppli": 13, "due": [13, 14], "round": 13, "represent": 13, "intend": 13, "veri": [13, 14, 16], "huge": [13, 16], "impact": 13, "cours": 13, "nest": 13, "aris": 14, "issue": 14, "modifi": 14, "sourc": 14, "sthat": 14, "empti": 14, "through": [14, 16], "serial": 14, "identifi": 14, "append_result": 14, "result_fil": 14, "allr": 14, "except": 14, "filenotfounderror": 14, "rd": 14, "readrd": 14, "els": 14, "writerd": 14, "via": 14, "sarrai": 14, "worst": 14, "invalid": 14, "becaus": [14, 16], "fail": 14, "thrown": 14, "inconveni": 14, "suspici": 14, "conflict": 14, "simpli": 14, "lost": 14, "Or": 14, "entir": 14, "filesystem": 14, "complain": 14, "realli": [14, 16], "mean": [14, 16], "collection_job": 14, "afterok": 14, "your_array_job_id": 14, "ned": 14, "wait": 14, "manual": 14, "becom": 14, "result_fold": 14, "sprintf": 14, "directori": 14, "ollid": 14, "distinguish": 14, "resultdir": 14, "results_": 14, "slurm_job_id": 14, "dir": 14, "p": 14, "your_exampl": 14, "collectionscript": 14, "split": [14, 16], "grepl": 14, "9": 14, "sub": 14, "result_file_path": 14, "saverd": 14, "results_your_array_job_id": 14, "artifici": 14, "user": 14, "who": 14, "commun": 14, "temporari": 14, "were": 14, "unreli": 14, "wa": 14, "lucki": 14, "strang": 14, "none": 14, "reliabl": 14, "home": 14, "handl": [14, 16], "server": [14, 15], "protect": 14, "against": 14, "describ": [14, 16], "develop": 14, "modif": 14, "own": [14, 16], "bottleneck": [14, 16], "block": [14, 16], "problemat": 14, "unexpect": 14, "decreas": 14, "place": 15, "few": [15, 16], "constraint": 15, "pai": [15, 16], "attent": 15, "consider": 15, "hardwar": 15, "limit": 15, "quantiti": 16, "fast": 16, "ssd": 16, "drive": 16, "spin": 16, "address": 16, "spread": 16, "similar": 16, "stripe": 16, "benefit": 16, "irelev": 16, "At": 16, "themselv": 16, "cach": 16, "smaller": 16, "repetet": 16, "typic": 16, "thousand": 16, "random": 16, "drastic": 16, "local": 16, "node": 16, "shard": 16, "bunch": 16, "capabl": 16, "longer": 16, "network": 16, "sequenti": 16, "finish": 16, "tar": 16, "pytorch": 16, "webdataset": 16, "buffer": 16, "choos": 16, "somewhat": 16, "unit": 16, "pose": 16, "burden": 16, "startup": 16, "ten": 16, "iter": 16, "total": 16, "333": 16, "hour": 16, "discrib": 16, "10000": 16, "20002": 16, "35000": 16, "whether": 16, "caus": 16, "siginific": 16, "sheer": 16, "scenario": 16, "effici": 16, "group": 16, "minimum": 16, "334": 16, "20500": 16, "earlier": 16}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"appli": 0, "k": 0, "nearest": 0, "neighbor": 0, "classif": 0, "iri": 0, "flower": 0, "data": 0, "set": 0, "import": 0, "preprocess": 0, "fit": 0, "pipelin": 0, "plot": 0, "decis": 0, "boundari": 0, "conclus": [1, 8], "recommend": [1, 8], "list": 2, "exercis": [2, 4, 6, 11], "full": 2, "parallel": [2, 3, 5, 6, 7, 9, 10, 11, 12, 13], "us": [2, 6, 11, 12], "script": [2, 6, 11, 13], "1": [2, 6, 11], "add": [2, 11], "metric": [2, 11], "paramet": [2, 11], "submiss": [2, 6, 11], "solut": [2, 6, 11], "slurm": [2, 6, 11], "arrai": [2, 6], "job": [2, 6, 7], "2": [2, 6], "creat": [2, 6, 11], "run": [2, 6, 11], "tuesdai": 3, "tool": 3, "techniqu": 3, "hpc": 3, "cours": [3, 9, 15], "instanc": [3, 9, 15], "april": [3, 9, 15], "2024": [3, 9, 15], "prerequisit": [3, 9, 15], "The": [3, 9, 15], "lesson": [3, 4, 9, 15], "refer": [3, 17], "who": 3, "i": 3, "about": 3, "see": 3, "also": 3, "credit": 3, "instructor": 4, "": 4, "guid": 4, "why": [4, 5, 10], "we": 4, "teach": 4, "thi": 4, "intend": 4, "learn": 4, "outcom": 4, "time": 4, "prepar": 4, "other": 4, "practic": 4, "aspect": 4, "interest": 4, "question": 4, "you": 4, "might": 4, "get": 4, "typic": 4, "pitfal": [4, 10, 15], "motiv": [5, 10], "object": [5, 10], "all": [5, 10], "more": 6, "complex": 6, "concept": 7, "embarassingli": [7, 9], "code": [7, 11, 15], "size": 7, "problem": 9, "advantag": 10, "move": 10, "schedul": [10, 16], "level": 10, "convert": 11, "notebook": 11, "python": 11, "split": 11, "pre": 11, "process": 11, "execut": 11, "updat": 11, "cluster": 11, "build": 11, "contain": 11, "depend": 11, "flexibl": 11, "post": 11, "step": 11, "workflow": 12, "manag": 12, "summari": 12, "via": 13, "concurr": 14, "issu": 14, "file": [14, 16], "access": [14, 16], "databas": 14, "when": 15, "parallelis": 15, "hardwar": 16, "server": 16, "limit": 16, "limitaton": 16, "quick": 17}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Apply K nearest neighbors classification to the Iris flower data set": [[0, "apply-k-nearest-neighbors-classification-to-the-iris-flower-data-set"]], "Import": [[0, "import"]], "Preprocess data": [[0, "preprocess-data"]], "Fit pipelines and plot decision boundaries": [[0, "fit-pipelines-and-plot-decision-boundaries"]], "Conclusions and recommendations": [[1, "conclusions-and-recommendations"], [8, "conclusions-and-recommendations"]], "List of exercises": [[2, "list-of-exercises"]], "Full list": [[2, "full-list"]], "Parallelize using Script": [[2, "parallelize-using-script"], [11, "parallelize-using-script"]], "Parallel-1: Add the metrics as a parameter to the submission": [[2, "exercise-0"], [11, "exercise-0"]], "Solution: Parallel-1": [[2, "solution-0"], [11, "solution-0"]], "Parallelize using Slurm Array jobs": [[2, "parallelize-using-slurm-array-jobs"], [6, "parallelize-using-slurm-array-jobs"]], "Parallel-2: Create a slurm script and run it.": [[2, "exercise-0"], [6, "exercise-0"]], "Solution: Parallel-2": [[2, "solution-0"], [6, "solution-0"]], "Tuesdays tools and techniques for HPC - Parallelization": [[3, "tuesdays-tools-and-techniques-for-hpc-parallelization"]], "Course instance in April 2024": [[3, null], [9, null], [15, null]], "Prerequisites": [[3, "prerequisites-0"], [9, "prerequisites-0"], [15, "prerequisites-0"]], "The lesson": [[3, null], [9, null], [15, null]], "Reference": [[3, null]], "Who is the course for?": [[3, "who-is-the-course-for"]], "About the course": [[3, "about-the-course"]], "See also": [[3, "see-also"]], "Credits": [[3, "credits"]], "Instructor\u2019s guide": [[4, "instructor-s-guide"]], "Why we teach this lesson": [[4, "why-we-teach-this-lesson"]], "Intended learning outcomes": [[4, "intended-learning-outcomes"]], "Timing": [[4, "timing"]], "Preparing exercises": [[4, "preparing-exercises"]], "Other practical aspects": [[4, "other-practical-aspects"]], "Interesting questions you might get": [[4, "interesting-questions-you-might-get"]], "Typical pitfalls": [[4, "typical-pitfalls"]], "Motivation": [[5, "motivation"], [10, "motivation"]], "Objectives": [[5, "objectives-0"], [10, "objectives-0"]], "Why parallelize at all": [[5, "why-parallelize-at-all"], [10, "why-parallelize-at-all"]], "Exercise 1": [[6, "exercise-1"], [11, "exercise-1"]], "More complex submission scripts": [[6, "more-complex-submission-scripts"]], "Concepts": [[7, "concepts"]], "Embarassingly parallel code": [[7, "embarassingly-parallel-code"]], "Size of jobs": [[7, "size-of-jobs"]], "Embarassingly Parallel Problems": [[9, "embarassingly-parallel-problems"]], "Advantages and pitfalls of parallelization": [[10, "advantages-and-pitfalls-of-parallelization"]], "Moving the parallelization to the scheduler level": [[10, "moving-the-parallelization-to-the-scheduler-level"]], "Convert the notebook to a python script": [[11, "convert-the-notebook-to-a-python-script"]], "Split into a pre-processing and a execution script": [[11, "split-into-a-pre-processing-and-a-execution-script"]], "Update code to run on a cluster": [[11, "update-code-to-run-on-a-cluster"]], "Build a container for dependencies": [[11, "build-a-container-for-dependencies"]], "Create a slurm script to run the code": [[11, "create-a-slurm-script-to-run-the-code"]], "Updating the code for parallel execution (and flexibility)": [[11, "updating-the-code-for-parallel-execution-and-flexibility"]], "Update the slurm scripts": [[11, "update-the-slurm-scripts"]], "Build a submission script": [[11, "build-a-submission-script"]], "Post processing steps": [[11, "post-processing-steps"]], "Parallelize using Workflow Manager": [[12, "parallelize-using-workflow-manager"]], "Summary": [[12, "summary"]], "Parallelize via a script": [[13, "parallelize-via-a-script"]], "Concurrency issues": [[14, "concurrency-issues"]], "Concurrent File Access": [[14, "concurrent-file-access"]], "Concurrent database access": [[14, "concurrent-database-access"]], "Pitfalls when parallelising code": [[15, "pitfalls-when-parallelising-code"]], "Hardware/Server limitations": [[16, "hardware-server-limitations"]], "File access limitatons": [[16, "file-access-limitatons"]], "Scheduling limitations": [[16, "scheduling-limitations"]], "Quick Reference": [[17, "quick-reference"]]}, "indexentries": {}})